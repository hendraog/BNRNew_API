{"version":3,"file":"CargoManifestView-059a99cc.js","sources":["../../src/views/CargoManifestView.vue"],"sourcesContent":["<script setup>\r\n    import moment from 'moment';\r\n    import Schema from 'async-validator';\r\n    import VueMultiselect from 'vue-multiselect'\r\n\r\n    import { ref, onMounted, inject, getCurrentInstance, computed } from 'vue'\r\n    import { useRoute,useRouter  } from 'vue-router'\r\n\r\n    const httpClient = inject('httpClient');\r\n    const appconfig = inject('appconfig');\r\n    const auth = inject('auth');\r\n    const app = getCurrentInstance().appContext;\r\n\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n    const emit = defineEmits(['showLoading','showAlert','showConfirmationDlg'])\r\n\r\n    const inputDlg = ref(null);\r\n    const dataTable = ref(null);\r\n    const fields = [\r\n        { key: \"id\", label: \"Id\", sortable: true, highlight: true },\r\n        { key: \"manifest_no\", label: \"No\", sortable: true, highlight: true },\r\n        { key: \"tgl_manifest\", label: \"Tgl Manifest\", sortable: true, datetime: true },\r\n        { key: \"nama_kapal\", label: \"Kapal\", sortable: true },\r\n        { key: \"nama_nahkoda\", label: \"Nahkoda\", sortable: true },\r\n        { key: \"lokasi_asal\", label: \"Asal\", sortable: true },\r\n        { key: \"lokasi_tujuan\", label: \"Tujuan\", sortable: true },        \r\n        { key: \"createdAt\", label: \"Created At\", sortable: true, datetime: true },\r\n        { key: \"createdByName\", label: \"Created By\", sortable: true },\r\n    ];\r\n\r\n    const dataValidatorDesc = {\r\n        nama_kapal: {type: 'string', required: true, min:1.0, max:999.0,  message:\"Silahkan input nama Kapal\"},\r\n        nama_nahkoda: {type: 'string', required: true, min:1.0, max:999.0,  message:\"Silahkan input nama Nahkoda\"},\r\n        lokasi_asal: {type: 'string', required: true, min:1.0, max:999.0,  message:\"Silahkan input Asal kapal\"},\r\n        lokasi_tujuan: {type: 'string', required: true, min:1.0, max:999.0,  message:\"Silahkan input Tujuan kapal\"},\r\n        ticket_count: {type: 'number', required: true, message:\"Silahkan input No Ticket\"}\r\n    };\r\n\r\n    const ticketSelection = ref([]);\r\n    const locationSelection = ref([]);\r\n    const enablePrint = ref(false);\r\n \r\n    const selectedTicket = ref([\r\n        { name: 'Javascript', code: 'js' }\r\n    ]);\r\n\r\n    onMounted(() => {\r\n        loadLocation();\r\n    })\r\n\r\n    const enableDelete = computed({\r\n        get(){\r\n            return auth.checkPermission(\"ManifestDelete\");\r\n        } \r\n    })\r\n\r\n    const enableCreateUpdate = computed({\r\n        get(){\r\n            return auth.checkPermission(\"ManifestCreateUpdate\");\r\n        } \r\n    })\r\n\r\n\r\n    const loadTicket = async (tujuan,manifestId) => {\r\n        emit(\"showLoading\", true);\r\n        var url= \"/cargo-manifest/ticket-list?tujuan=\"+tujuan;\r\n        if(manifestId)\r\n            url += \"&cargoManifestId=\" + manifestId;\r\n        var response = await httpClient(\"get\", url);\r\n        emit(\"showLoading\", false);\r\n        \r\n        console.log(response);\r\n        if (response.status == 200) {\r\n            var s = response.data.map(e=> {\r\n            return {\r\n                id: e.id,\r\n                ticket_no: e.ticket_no +\" a/n:\" +e.nama_supir\r\n            }});\r\n            ticketSelection.value =  s;\r\n        }\r\n        else {\r\n            app.config.globalProperties.showErrorDlg(response.message);\r\n        }\r\n    }\r\n\r\n    \r\n    const loadLocation = async () => {\r\n        emit(\"showLoading\", true);\r\n        var response = await httpClient(\"get\", `/master/lokasi-pelabuhan`);\r\n        emit(\"showLoading\", false);\r\n        \r\n        console.log(response);\r\n        if (response.status == 200) {\r\n            var s = response.data.map(e=> {\r\n            return {\r\n                key: e,\r\n                label: e\r\n            }});\r\n            locationSelection.value =  s;\r\n        }\r\n        else {\r\n            app.config.globalProperties.showErrorDlg(response.message);\r\n        }\r\n    }\r\n\r\n\r\n    const loadItems = async (page, sortBy, sortDesc, limit, search) => {\r\n        search = search;        \r\n        emit(\"showLoading\", true);\r\n        var response = await httpClient(\"get\", `/cargo-manifest?page=${page}&pageSize=${limit}&filter=${search}`);\r\n        emit(\"showLoading\", false);\r\n        \r\n        console.log(response);\r\n        if (response.status == 200) {\r\n            return response.data;\r\n        }\r\n        else {\r\n            app.config.globalProperties.showErrorDlg(response.message);\r\n        }\r\n    }\r\n\r\n    const onCreateNew = () => {\r\n        var initialData = {\r\n            tgl_manifest: moment.utc(),\r\n            lokasi_asal: locationSelection.value[0].key,\r\n            lokasi_tujuan: locationSelection.value[1].key,\r\n            golongan: null,\r\n            harga: 0,\r\n            min_length: 1,\r\n            max_length: 1,\r\n            createdAt: null,\r\n            updatedAt:null\r\n        };\r\n        inputDlg.value.showDlg(initialData);\r\n        selectedTicket.value = [];\r\n        enablePrint.value = false;\r\n        if(locationSelection.value.length>1){\r\n            loadTicket(initialData.lokasi_tujuan);\r\n        }\r\n\r\n    }\r\n\r\n    const onEdit = async (data) => {\r\n        emit(\"showLoading\", true);\r\n        var response = await httpClient(\"get\", `/cargo-manifest/` + data.id);\r\n        emit(\"showLoading\", false);\r\n        \r\n        console.log(response);\r\n        if (response.status == 200) {\r\n            loadTicket(response.data.lokasi_tujuan,response.data.id);\r\n            selectedTicket.value = [];\r\n            response.data.ticket_count = 0;\r\n            response.data.detailData.forEach(element => {\r\n                selectedTicket.value.push({\r\n                    id: element.ticket,\r\n                    ticket_no: element.ticketNo\r\n                });\r\n                response.data.ticket_count++;\r\n            });\r\n            enablePrint.value = true;\r\n            inputDlg.value.showDlg(response.data);\r\n        }\r\n        else {\r\n            app.config.globalProperties.showErrorDlg(response.message);\r\n        }\r\n        \r\n    }\r\n\r\n    const onDelete = (data) => {\r\n        console.log(data);\r\n    }\r\n    \r\n    const submit =async (data) => {\r\n        //Do validation first\r\n        const validator = new Schema(dataValidatorDesc);\r\n\r\n        data.ticketList = [];\r\n\r\n        data.ticket_count = 0; \r\n        selectedTicket.value.forEach(e=>{\r\n            data.ticketList.push(e.id);\r\n            data.ticket_count++;\r\n        });\r\n        \r\n\r\n        validator.validate(data).then(async () => {\r\n            emit(\"showLoading\", true);\r\n            var response = await httpClient(data.id?\"put\":\"post\", '/cargo-manifest',data);\r\n            emit(\"showLoading\", false);\r\n            \r\n            console.log(response);\r\n            if (response.status == 200) {\r\n                inputDlg.value.currentDialogData.id = response.data.id;\r\n                inputDlg.value.currentDialogData.manifest_no = response.data.manifest_no;\r\n                enablePrint.value = true;\r\n                dataTable.value.loadData();\r\n                return data;\r\n            }\r\n            else {\r\n                app.config.globalProperties.showErrorDlg(response.message);\r\n            }\r\n        }).catch(({ errors, fields }) => {\r\n            var totalMsg = \"\";\r\n            errors.forEach(e=> {                \r\n                totalMsg += \"* \" + (e.message + \"<br>\");\r\n            }); \r\n            app.config.globalProperties.showErrorDlg(totalMsg);\r\n        });\r\n    }\r\n\r\n    const onLokasiAsalChange =() => {\r\n        loadTicket(inputDlg.value.currentDialogData.lokasi_tujuan,null);\r\n    }\r\n\r\n    const  addTag = (newTag) => {\r\n      const tag = {\r\n        name: newTag,\r\n        code: newTag.substring(0, 2) + Math.floor((Math.random() * 10000000))\r\n      }\r\n      this.options.push(tag)\r\n      this.value.push(tag)\r\n    }\r\n    \r\n    const onTicketChange = (option, id) => {\r\n        inputDlg.value.currentDialogData.ticket_count = 0;        \r\n        selectedTicket.value.forEach(x=> {\r\n            inputDlg.value.currentDialogData.ticket_count++;\r\n        });\r\n    }\r\n\r\n    const onPrintManifestPenumpang = (id) => {\r\n        window.open(appconfig.APIBaseUrl+\"/cargo-manifest/report/manifest-penumpang/\"+id + \"?Authorization=\" + auth.getToken());\r\n    }\r\n\r\n    const onPrintManifest = (id) => {\r\n        window.open(appconfig.APIBaseUrl+\"/cargo-manifest/report/\"+id + \"?Authorization=\" + auth.getToken());\r\n    }\r\n\r\n</script>\r\n\r\n<template>\r\n    <MenuTitleLabel label=\"Cargo Manifest\"></MenuTitleLabel>\r\n\r\n    <DataTable  ref=\"dataTable\"\r\n                v-bind:fields=\"fields\"\r\n                :loadDataFunction=\"loadItems\"\r\n                :enableDelete=\"enableDelete\"\r\n                :enableCreate=\"enableCreateUpdate\"\r\n                :enableUpdate=\"enableCreateUpdate\"\r\n                @onCreateNew=\"onCreateNew\" \r\n                @onEdit=\"onEdit\" \r\n                @onDelete=\"onDelete\">\r\n    </DataTable>\r\n\r\n    <InputModalDialog w=\"80%\"  ref=\"inputDlg\" title=\"Data Cargo Manifest\"  @onSubmitClick=\"submit\">\r\n        <template #dlgContent=\"dlgContent\">\r\n            <div class=\"flex flex-row w-full\">\r\n                <div class=\"flex flex-col\" style=\"width:30%;\">\r\n                    <MyInputText label=\"Manifest No\" disabled v-model:value=\"dlgContent.currentDialogData.manifest_no\" />\r\n              \r\n                    <MyInputDate label=\"Tanggal Manidest\" @onChange=\"onDateChange\"\r\n                        v-model:value=\"dlgContent.currentDialogData.tgl_manifest\" />\r\n\r\n                    <DropDown label=\"Lokasi Asal\"  :data=\"locationSelection\" valueByKey\r\n                        v-model:selectedData=\"dlgContent.currentDialogData.lokasi_asal\"></DropDown>\r\n\r\n                    <DropDown label=\"Lokasi Tujuan\"  :data=\"locationSelection\" valueByKey @onChange=\"onLokasiAsalChange\"\r\n                        v-model:selectedData=\"dlgContent.currentDialogData.lokasi_tujuan\"></DropDown>\r\n  \r\n                    <MyInputText label=\"Nama Kapal\" maxlength=200\r\n                        v-model:value=\"dlgContent.currentDialogData.nama_kapal\" />\r\n                    <MyInputText label=\"Nama Nahkoda\" maxlength=100 \r\n                        v-model:value=\"dlgContent.currentDialogData.nama_nahkoda\" />\r\n\r\n                    <MyInputText label=\"alamat\" maxlength=200 \r\n                        v-model:value=\"dlgContent.currentDialogData.alamat\" />\r\n\r\n                    <div class=\"h-20\"></div>\r\n                </div>\r\n\r\n                <div class=\"p-2\">\r\n                    <div class=\"bg-white h-full\" style=\"width:1px;\"></div>\r\n                </div>\r\n\r\n                <div class=\"flex-1 flex  flex-col\">                    \r\n                    <label  class=\"mr-2 mb-2 block text-sm font-medium text-white\">Ticket List ({{dlgContent.currentDialogData.ticket_count}} ticket) :</label>\r\n\r\n                    <VueMultiselect\r\n                        class=\"h-30\"\r\n                        v-model=\"selectedTicket\"\r\n                        :options=\"ticketSelection\"\r\n                        :multiple=\"true\"\r\n                        :taggable=\"true\"\r\n                        :internalSearch=\"false\"\r\n                        @tag=\"addTag\"\r\n                        @select=\"onTicketChange\"\r\n                        @remove=\"onTicketChange\"\r\n                        tag-placeholder=\"Ticket List \"\r\n                        placeholder=\"Cari No Ticket\"\r\n                        label=\"ticket_no\"\r\n                        track-by=\"id\"\r\n                    />\r\n\r\n                </div>\r\n            </div>\r\n        </template> \r\n\r\n        <template #additionalButton=\"additionalButton\">\r\n            <button @click=\"onPrintManifest(additionalButton.currentDialogData.id)\" style=\"height:3em\" v-if=\"enablePrint\"\r\n                    class=\"inline-flex items-center justify-center text-white m-2 bg-yellow-600 hover:bg-yellow-700 focus:ring-4 \r\n                        focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-3 py-2.5 text-center\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" class=\"mr-2 w-5 h-5\">\r\n                    <path fill-rule=\"evenodd\" d=\"M5 2.75C5 1.784 5.784 1 6.75 1h6.5c.966 0 1.75.784 1.75 1.75v3.552c.377.046.752.097 1.126.153A2.212 2.212 0 0 1 18 8.653v4.097A2.25 2.25 0 0 1 15.75 15h-.241l.305 1.984A1.75 1.75 0 0 1 14.084 19H5.915a1.75 1.75 0 0 1-1.73-2.016L4.492 15H4.25A2.25 2.25 0 0 1 2 12.75V8.653c0-1.082.775-2.034 1.874-2.198.374-.056.75-.107 1.127-.153L5 6.25v-3.5Zm8.5 3.397a41.533 41.533 0 0 0-7 0V2.75a.25.25 0 0 1 .25-.25h6.5a.25.25 0 0 1 .25.25v3.397ZM6.608 12.5a.25.25 0 0 0-.247.212l-.693 4.5a.25.25 0 0 0 .247.288h8.17a.25.25 0 0 0 .246-.288l-.692-4.5a.25.25 0 0 0-.247-.212H6.608Z\" clip-rule=\"evenodd\" />\r\n                </svg>\r\n                Print Manifest\r\n            </button>\r\n\r\n            <button @click=\"onPrintManifestPenumpang(additionalButton.currentDialogData.id)\" style=\"height:3em\" v-if=\"enablePrint\"\r\n                    class=\"inline-flex items-center justify-center text-white m-2 bg-yellow-600 hover:bg-yellow-700 focus:ring-4 \r\n                        focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-3 py-2.5 text-center\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" class=\"mr-2 w-5 h-5\">\r\n                    <path fill-rule=\"evenodd\" d=\"M5 2.75C5 1.784 5.784 1 6.75 1h6.5c.966 0 1.75.784 1.75 1.75v3.552c.377.046.752.097 1.126.153A2.212 2.212 0 0 1 18 8.653v4.097A2.25 2.25 0 0 1 15.75 15h-.241l.305 1.984A1.75 1.75 0 0 1 14.084 19H5.915a1.75 1.75 0 0 1-1.73-2.016L4.492 15H4.25A2.25 2.25 0 0 1 2 12.75V8.653c0-1.082.775-2.034 1.874-2.198.374-.056.75-.107 1.127-.153L5 6.25v-3.5Zm8.5 3.397a41.533 41.533 0 0 0-7 0V2.75a.25.25 0 0 1 .25-.25h6.5a.25.25 0 0 1 .25.25v3.397ZM6.608 12.5a.25.25 0 0 0-.247.212l-.693 4.5a.25.25 0 0 0 .247.288h8.17a.25.25 0 0 0 .246-.288l-.692-4.5a.25.25 0 0 0-.247-.212H6.608Z\" clip-rule=\"evenodd\" />\r\n                </svg>\r\n                Print Manifest Penumpang\r\n            </button>\r\n\r\n        </template>        \r\n    </InputModalDialog>    \r\n    \r\n</template>\r\n\r\n<style src=\"vue-multiselect/dist/vue-multiselect.css\"></style>\r\n\r\n\r\n<style scoped>\r\n.modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.multiselect__content-wrapper {\r\n  background: white;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  max-width: 600px;\r\n  width: 100%;\r\n}\r\n</style>"],"names":["httpClient","inject","appconfig","auth","app","getCurrentInstance","useRoute","useRouter","emit","__emit","inputDlg","ref","dataTable","fields","dataValidatorDesc","ticketSelection","locationSelection","enablePrint","selectedTicket","onMounted","loadLocation","enableDelete","computed","enableCreateUpdate","loadTicket","tujuan","manifestId","url","response","s","e","loadItems","page","sortBy","sortDesc","limit","search","onCreateNew","initialData","moment","onEdit","data","element","onDelete","submit","validator","Schema","errors","totalMsg","onLokasiAsalChange","addTag","newTag","tag","onTicketChange","option","id","x","onPrintManifestPenumpang","onPrintManifest"],"mappings":"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"}
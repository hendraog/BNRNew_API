{"version":3,"file":"MasterGolonganView-5f98c642.js","sources":["../../src/views/MasterGolonganView.vue"],"sourcesContent":["<script setup>\r\n    import { ref, onMounted, inject, getCurrentInstance, computed } from 'vue'\r\n    import { useRoute,useRouter  } from 'vue-router'\r\n\r\n    const httpClient = inject('httpClient');\r\n    const auth = inject('auth');\r\n    const app = getCurrentInstance().appContext;\r\n\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n    const emit = defineEmits(['showLoading','showAlert','showConfirmationDlg'])\r\n\r\n    const inputDlg = ref(null);\r\n    const dataTable = ref(null);\r\n    const fields = [\r\n        { key: \"id\", label: \"Id\", sortable: true, highlight: true },\r\n        { key: \"golongan\", label: \"Golongan\", sortable: true, highlight: true },\r\n        { key: \"harga\", label: \"Harga\", sortable: true, number: true },\r\n        { key: \"min_length\", label: \"Min Length\", sortable: true, number: true },\r\n        { key: \"max_length\", label: \"Max Length\", sortable: true, number: true },\r\n        { key: \"createdAt\", label: \"CREATED AT\", sortable: true, datetime: true },\r\n        { key: \"updatedAt\", label: \"UPDATED AT\", sortable: true, datetime: true }\r\n    ];\r\n\r\n    const loadItems = async (page, sortBy, sortDesc, limit, search) => {\r\n        search = search;        \r\n        emit(\"showLoading\", true);\r\n        var response = await httpClient(\"get\", `/golongan?page=${page}&pageSize=${limit}&filter=${search}`);\r\n        emit(\"showLoading\", false);\r\n        \r\n        console.log(response);\r\n        if (response.status == 200) {\r\n            return response.data;\r\n        }\r\n        else {\r\n            app.config.globalProperties.showErrorDlg(response.message);\r\n        }\r\n    }\r\n\r\n    const onCreateNew = () => {\r\n        inputDlg.value.showDlg({\r\n            golongan: null,\r\n            harga: 0,\r\n            min_length: 1,\r\n            max_length: 1,\r\n            createdAt: null,\r\n            updatedAt:null\r\n        });\r\n    }\r\n\r\n    const onEdit = (data) => {\r\n        inputDlg.value.showDlg(data);\r\n    }\r\n\r\n    const onDelete = (data) => {\r\n        console.log(data);\r\n    }\r\n    \r\n    const submit =async (data) => {\r\n        emit(\"showLoading\", true);\r\n        var response = await httpClient(data.id?\"put\":\"post\", '/golongan',data);\r\n        emit(\"showLoading\", false);\r\n        \r\n        console.log(response);\r\n        if (response.status == 200) {\r\n            inputDlg.value.hide();\r\n            dataTable.value.loadData();\r\n            return data;\r\n        }\r\n        else {\r\n            app.config.globalProperties.showErrorDlg(response.message);\r\n        }\r\n    }\r\n\r\n    const haveManagePermission = computed({\r\n        get(){\r\n            return auth.checkPermission(\"MasterGolonganManage\");\r\n        } \r\n    })\r\n</script>\r\n\r\n<template>\r\n    <MenuTitleLabel label=\"Master Golongan\"></MenuTitleLabel>\r\n    <DataTable  ref=\"dataTable\"\r\n                v-bind:fields=\"fields\"\r\n                :loadDataFunction=\"loadItems\"\r\n                :enableDelete=\"haveManagePermission\"\r\n                :enableCreate=\"haveManagePermission\"\r\n                :enableUpdate=\"haveManagePermission\"\r\n                @onCreateNew=\"onCreateNew\" \r\n                @onEdit=\"onEdit\" \r\n                @onDelete=\"onDelete\">\r\n    </DataTable>\r\n\r\n    <InputModalDialog  ref=\"inputDlg\" title=\"Data Golongan\"  v-model:data=\"currentData\" \r\n        @onSubmitClick=\"submit\"\r\n        :enableSubmit=\"haveManagePermission\">\r\n        <template #dlgContent=\"dlgContent\">\r\n            <MyInputText label=\"Golongan\" v-model:value=\"dlgContent.currentDialogData.golongan\" />\r\n            <MyInputNumber label=\"Harga\" v-model:value=\"dlgContent.currentDialogData.harga\"  />\r\n            <MyInputNumber label=\"Min Length\" v-model:value=\"dlgContent.currentDialogData.min_length\" />\r\n            <MyInputNumber label=\"Max Length\" v-model:value=\"dlgContent.currentDialogData.max_length\"/>\r\n        </template> \r\n    </InputModalDialog>    \r\n    \r\n</template>"],"names":["httpClient","inject","auth","app","getCurrentInstance","useRoute","useRouter","emit","__emit","inputDlg","ref","dataTable","fields","loadItems","page","sortBy","sortDesc","limit","search","response","onCreateNew","onEdit","data","onDelete","submit","haveManagePermission","computed"],"mappings":"sOAII,MAAMA,EAAaC,EAAO,YAAY,EAChCC,EAAOD,EAAO,MAAM,EACpBE,EAAMC,EAAoB,EAAC,WAEnBC,EAAU,EACTC,EAAW,EAC1B,MAAMC,EAAOC,EAEPC,EAAWC,EAAI,IAAI,EACnBC,EAAYD,EAAI,IAAI,EACpBE,EAAS,CACX,CAAE,IAAK,KAAM,MAAO,KAAM,SAAU,GAAM,UAAW,EAAM,EAC3D,CAAE,IAAK,WAAY,MAAO,WAAY,SAAU,GAAM,UAAW,EAAM,EACvE,CAAE,IAAK,QAAS,MAAO,QAAS,SAAU,GAAM,OAAQ,EAAM,EAC9D,CAAE,IAAK,aAAc,MAAO,aAAc,SAAU,GAAM,OAAQ,EAAM,EACxE,CAAE,IAAK,aAAc,MAAO,aAAc,SAAU,GAAM,OAAQ,EAAM,EACxE,CAAE,IAAK,YAAa,MAAO,aAAc,SAAU,GAAM,SAAU,EAAM,EACzE,CAAE,IAAK,YAAa,MAAO,aAAc,SAAU,GAAM,SAAU,EAAM,CACjF,EAEUC,EAAY,MAAOC,EAAMC,EAAQC,EAAUC,EAAOC,IAAW,CAC/DA,EAASA,EACTX,EAAK,cAAe,EAAI,EACxB,IAAIY,EAAW,MAAMnB,EAAW,MAAO,kBAAkBc,CAAI,aAAaG,CAAK,WAAWC,CAAM,EAAE,EAIlG,GAHAX,EAAK,cAAe,EAAK,EAEzB,QAAQ,IAAIY,CAAQ,EAChBA,EAAS,QAAU,IACnB,OAAOA,EAAS,KAGhBhB,EAAI,OAAO,iBAAiB,aAAagB,EAAS,OAAO,CAEhE,EAEKC,EAAc,IAAM,CACtBX,EAAS,MAAM,QAAQ,CACnB,SAAU,KACV,MAAO,EACP,WAAY,EACZ,WAAY,EACZ,UAAW,KACX,UAAU,IACtB,CAAS,CACJ,EAEKY,EAAUC,GAAS,CACrBb,EAAS,MAAM,QAAQa,CAAI,CAC9B,EAEKC,EAAYD,GAAS,CACvB,QAAQ,IAAIA,CAAI,CACnB,EAEKE,EAAQ,MAAOF,GAAS,CAC1Bf,EAAK,cAAe,EAAI,EACxB,IAAIY,EAAW,MAAMnB,EAAWsB,EAAK,GAAG,MAAM,OAAQ,YAAYA,CAAI,EAItE,GAHAf,EAAK,cAAe,EAAK,EAEzB,QAAQ,IAAIY,CAAQ,EAChBA,EAAS,QAAU,IACnB,OAAAV,EAAS,MAAM,OACfE,EAAU,MAAM,WACTW,EAGPnB,EAAI,OAAO,iBAAiB,aAAagB,EAAS,OAAO,CAEhE,EAEKM,EAAuBC,EAAS,CAClC,KAAK,CACD,OAAOxB,EAAK,gBAAgB,sBAAsB,CACrD,CACT,CAAK"}
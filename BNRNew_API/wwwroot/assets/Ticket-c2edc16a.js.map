{"version":3,"file":"Ticket-c2edc16a.js","sources":["../../src/views/Ticket.vue"],"sourcesContent":["<script setup>\r\n    import moment from 'moment';\r\n    import Schema from 'async-validator';\r\n    \r\n    import { ref, onMounted, inject, getCurrentInstance, computed } from 'vue'\r\n    import { useRoute,useRouter  } from 'vue-router'\r\n\r\n    const httpClient = inject('httpClient');\r\n    const auth = inject('auth');\r\n    const app = getCurrentInstance().appContext;\r\n\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n    const emit = defineEmits(['showLoading','showAlert','showConfirmationDlg'])\r\n\r\n    const inputDlg = ref(null);\r\n    const dataTable = ref(null);\r\n    const fields = [\r\n        { key: \"id\", label: \"Id\", sortable: true, highlight: true },\r\n        { key: \"ticket_no\", label: \"No\", sortable: true, highlight: true },\r\n        { key: \"tanggal_berlaku\", label: \"Tanggal Berlaku\", sortable: true, datetime: true },\r\n        { key: \"golongan_name\", label: \"Golongan\", sortable: true },\r\n        { key: \"harga\", label: \"Harga\", sortable: true, number: true },\r\n        { key: \"biaya_tuslah\", label: \"Biaya Tuslah\", sortable: true, number: true },\r\n        { key: \"total_harga\", label: \"Total\", sortable: true, number: true },        \r\n        { key: \"plat_no\", label: \"Plat\", sortable: true },\r\n        { key: \"createdAt\", label: \"Created At\", sortable: true, datetime: true },\r\n        { key: \"createdByName\", label: \"Created By\", sortable: true },\r\n    ];\r\n\r\n    const dataValidatorDesc = {\r\n        tally_no: {type: 'string', required: true, message:\"Silahkan input no tally\"},\r\n        panjang_kenderaan: {type: 'number', required: true, min:1.0, max:999.0,  message:\"Silahkan input Panjang kenderaan antara 1-999\"},\r\n        tinggi_kenderaan: {type: 'number', required: true, min:1.0, max:999.0,  message:\"Silahkan input Tinggi kenderaan antara 1-999\"},\r\n        lebar_kenderaan: {type: 'number', required: true, min:1.0, max:999.0,  message:\"Silahkan input Lebar kenderaan antara 1-999\"},\r\n        panjang_ori_kenderaan: {type: 'number', required: true, min:1.0, max:999.0,  message:\"Silahkan input Panjang Ori kenderaan antara 1-999\"},\r\n        plat_no: {type: 'string', required: true, pattern: \"^[a-zA-Z]{1,2} [0-9]{1,4} [a-zA-Z]{1,3}$\", message:\"Silahkan input no Plat yg benar\"}\r\n    };\r\n\r\n    const golonganSelection = ref([]);\r\n    const locationSelection = ref([]);\r\n    const enableSubmit = ref(true);\r\n    const enablePrint = ref(false);\r\n    \r\n\r\n    \r\n    onMounted(() => {\r\n        loadGolongan();\r\n        loadLocation();\r\n    })\r\n\r\n    const enableDelete = computed({\r\n        get(){\r\n            return auth.checkPermission(\"TicketDelete\");\r\n        } \r\n    })\r\n\r\n    const enableCreate = computed({\r\n        get(){\r\n            return auth.checkPermission(\"TicketCreate\");\r\n        } \r\n    })\r\n\r\n    const loadGolongan = async () => {\r\n        emit(\"showLoading\", true);\r\n        var response = await httpClient(\"get\", `/golongan?page=1&pageSize=1000`);\r\n        emit(\"showLoading\", false);\r\n        \r\n        console.log(response);\r\n        if (response.status == 200) {\r\n            var s = response.data.map(e=> {\r\n            return {\r\n                key: e.id,\r\n                label: e.golongan,\r\n                min_length: e.min_length,\r\n                max_length: e.max_length,\r\n                harga: e.harga\r\n            }});\r\n            golonganSelection.value =  s;\r\n        }\r\n        else {\r\n            app.config.globalProperties.showErrorDlg(response.message);\r\n        }\r\n    }\r\n\r\n    \r\n    const loadLocation = async () => {\r\n        emit(\"showLoading\", true);\r\n        var response = await httpClient(\"get\", `/master/lokasi-pelabuhan`);\r\n        emit(\"showLoading\", false);\r\n        \r\n        console.log(response);\r\n        if (response.status == 200) {\r\n            var s = response.data.map(e=> {\r\n            return {\r\n                key: e,\r\n                label: e\r\n            }});\r\n            locationSelection.value =  s;\r\n        }\r\n        else {\r\n            app.config.globalProperties.showErrorDlg(response.message);\r\n        }\r\n    }\r\n\r\n\r\n    const loadItems = async (page, sortBy, sortDesc, limit, search) => {\r\n        search = search;        \r\n        emit(\"showLoading\", true);\r\n        var response = await httpClient(\"get\", `/ticket?page=${page}&pageSize=${limit}&filter=${search}`);\r\n        emit(\"showLoading\", false);\r\n        \r\n        console.log(response);\r\n        if (response.status == 200) {\r\n            return response.data;\r\n        }\r\n        else {\r\n            app.config.globalProperties.showErrorDlg(response.message);\r\n        }\r\n    }\r\n\r\n    const onCreateNew = () => {\r\n        inputDlg.value.showDlg({\r\n            tanggal_masuk: moment.utc(),\r\n            tanggal_berlaku: moment().utc().add(1, 'days').toDate(),\r\n            golongan: null,\r\n            nama_pengurus: \"dasdas\",\r\n            lokasi_asal: locationSelection.value[0].key,\r\n            lokasi_tujuan: locationSelection.value[1].key,\r\n            harga: 0,\r\n            biaya_tuslah: 0,\r\n            jumlah_orang:1,\r\n            min_length: 1,\r\n            max_length: 1,\r\n            createdAt: null,\r\n            updatedAt:null\r\n        });\r\n        enableSubmit.value = true;\r\n        enablePrint.value = false;\r\n    }\r\n\r\n    const onEdit = async (data) => {\r\n        emit(\"showLoading\", true);\r\n        var response = await httpClient(\"get\", `/ticket/` + data.id);\r\n        emit(\"showLoading\", false);\r\n        \r\n        console.log(response);\r\n        if (response.status == 200) {\r\n            inputDlg.value.showDlg(response.data);\r\n        }\r\n        else {\r\n            app.config.globalProperties.showErrorDlg(response.message);\r\n        }\r\n\r\n        checkPermission(response.data);\r\n        enablePrint.value = true;\r\n\r\n    }\r\n\r\n    const onDelete = (data) => {\r\n        console.log(data);\r\n    }\r\n    \r\n    const submit =async (data) => {\r\n        //Do validation first\r\n        const validator = new Schema(dataValidatorDesc);\r\n        validator.validate(data).then(async () => {\r\n            emit(\"showLoading\", true);\r\n            var response = await httpClient(data.id?\"put\":\"post\", '/ticket',data);\r\n            emit(\"showLoading\", false);\r\n            \r\n            console.log(response);\r\n            if (response.status == 200) {\r\n                var ticketData = response.data;\r\n                inputDlg.value.currentDialogData.ticket_no = ticketData.ticket_no;\r\n                inputDlg.value.currentDialogData.id = ticketData.id;\r\n                dataTable.value.loadData();\r\n\r\n                enablePrint.value = true;                \r\n                return data;\r\n            }\r\n            else {\r\n                app.config.globalProperties.showErrorDlg(response.message);\r\n            }\r\n        }).catch(({ errors, fields }) => {\r\n            var totalMsg = \"\";\r\n            errors.forEach(e=> {                \r\n                totalMsg += \"* \" + (e.message + \"<br>\");\r\n            }); \r\n            app.config.globalProperties.showErrorDlg(totalMsg);\r\n        });\r\n    }\r\n\r\n    const doPrint = async () => {\r\n\r\n        emit(\"showLoading\", true);\r\n        var response = await httpClient(\"get\", '/ticket/print-data/' + inputDlg.value.currentDialogData.id,{});\r\n         \r\n        console.log(response);\r\n        if (response.status == 200) {\r\n            var printResponse = await httpClient(\"post\", response.data.print_url,response.data.print_data);  \r\n            if(printResponse.status == 200){\r\n                //update status\r\n                var responseUpdate = await httpClient(\"put\", '/ticket/do-print',{\r\n                    id: inputDlg.value.currentDialogData.id\r\n                });\r\n\r\n                var ticketData = responseUpdate.data;\r\n                inputDlg.value.currentDialogData.printer_count = ticketData.printer_count;\r\n                dataTable.value.loadData();\r\n                checkPermission(inputDlg.value.currentDialogData);\r\n            }else{\r\n                app.config.globalProperties.showErrorDlg(\"Silahkan cek PC Kasir apakah PrinterUtils telah di jalakan pada alamat berikut ini \" + response.data.print_url);\r\n            }\r\n            emit(\"showLoading\", false);\r\n        }\r\n        else {\r\n            emit(\"showLoading\", false);\r\n            app.config.globalProperties.showErrorDlg(response.message);\r\n        }\r\n    }\r\n\r\n    const checkPermission = (ticketData) => {\r\n        if(auth.checkPermission(\"TicketUpdate\") || (auth.checkPermission(\"TicketUpdateBeforePrint\") && ticketData.printer_count  == 0))\r\n            enableSubmit.value = true;\r\n        else\r\n            enableSubmit.value = false;\r\n\r\n    }\r\n\r\n\r\n    const onDateChange =(value) => {\r\n        inputDlg.value.currentDialogData.tanggal_berlaku = moment(value).add(1, 'days').toDate();\r\n    }\r\n\r\n    const onTuslahChange =(value) => {\r\n        recalcTotalHarga();\r\n    }\r\n\r\n    const recalcTotalHarga =() => {\r\n        inputDlg.value.currentDialogData.total_harga = inputDlg.value.currentDialogData.biaya_tuslah + inputDlg.value.currentDialogData.harga;\r\n    }\r\n\r\n    const onGolonganChange =(value) => {\r\n        //inputDlg.value.currentDialogData.plat_no = \"\";\r\n        var selectedGolData = golonganSelection.value.find(e=> e.key == value);\r\n        if(selectedGolData != null){\r\n            inputDlg.value.currentDialogData.harga = selectedGolData.harga;\r\n            if(inputDlg.value.currentDialogData.panjang_kenderaan > selectedGolData.max_length || \r\n              inputDlg.value.currentDialogData.panjang_kenderaan < selectedGolData.min_length){\r\n                inputDlg.value.currentDialogData.panjang_kenderaan = null;\r\n            }\r\n            recalcTotalHarga();\r\n        }else{\r\n            inputDlg.value.currentDialogData.harga = 0;\r\n            recalcTotalHarga();\r\n        }\r\n\r\n    }\r\n\r\n    const onPlatNoChange =async (item) => {\r\n        emit(\"showLoading\", true);\r\n        var response = await httpClient(\"get\", '/golongan-plat/searchplat?platno=' + item.value,{\r\n            id: inputDlg.value.currentDialogData.id\r\n        });\r\n        emit(\"showLoading\", false);\r\n\r\n        if(response.status == 200){\r\n            inputDlg.value.currentDialogData.golongan = response.data.golonganid;\r\n            var selectedGolData = golonganSelection.value.find(e=> e.key == response.data.golonganid);\r\n            if(selectedGolData != null){\r\n                inputDlg.value.currentDialogData.harga = selectedGolData.harga;\r\n                if(inputDlg.value.currentDialogData.panjang_kenderaan > selectedGolData.max_length || \r\n                inputDlg.value.currentDialogData.panjang_kenderaan < selectedGolData.min_length){\r\n                    inputDlg.value.currentDialogData.panjang_kenderaan = null;\r\n                }\r\n                recalcTotalHarga();\r\n            }\r\n        }else{\r\n            inputDlg.value.currentDialogData.golongan = null;\r\n            inputDlg.value.currentDialogData.harga = 0;\r\n            recalcTotalHarga();\r\n        }\r\n    }\r\n\r\n\r\n</script>\r\n\r\n<template>\r\n    <MenuTitleLabel label=\"Transaksi Ticket\"></MenuTitleLabel>\r\n\r\n    <DataTable  ref=\"dataTable\"\r\n                v-bind:fields=\"fields\"\r\n                :loadDataFunction=\"loadItems\"\r\n                :enableCreate=\"enableCreate\"\r\n                :enableDelete=\"enableDelete\"\r\n                @onCreateNew=\"onCreateNew\" \r\n                @onEdit=\"onEdit\" \r\n                @onDelete=\"onDelete\">\r\n    </DataTable>\r\n\r\n    <InputModalDialog w=\"80%\"  ref=\"inputDlg\" title=\"Data Ticket\" :enableSubmit=\"enableSubmit\" \r\n        @onSubmitClick=\"submit\">\r\n\r\n        <template #dlgContent=\"dlgContent\">\r\n            <div class=\"flex flex-row w-full\">\r\n                <div class=\"flex-1 flex flex-col\">\r\n                    <MyInputText label=\"Ticket No\" disabled v-model:value=\"dlgContent.currentDialogData.ticket_no\" />\r\n                    \r\n                    <MyInputText label=\"No Tally\" maxlength=40 :disabled=\"dlgContent.currentDialogData.id\"\r\n                        v-model:value=\"dlgContent.currentDialogData.tally_no\" />\r\n\r\n                    <MyInputDate label=\"Tanggal Masuk\" @onChange=\"onDateChange\" :disabled=\"dlgContent.currentDialogData.id\"\r\n                        v-model:value=\"dlgContent.currentDialogData.tanggal_masuk\" />\r\n\r\n                    <MyInputDate label=\"Tanggal Berlaku\" disabled :disabled=\"dlgContent.currentDialogData.id\"\r\n                        v-model:value=\"dlgContent.currentDialogData.tanggal_berlaku\"/>\r\n\r\n                    <DropDown label=\"Lokasi Asal\"  :data=\"locationSelection\" valueByKey :disabled=\"dlgContent.currentDialogData.id\" \r\n                        v-model:selectedData=\"dlgContent.currentDialogData.lokasi_asal\"></DropDown>\r\n\r\n                    <DropDown label=\"Lokasi Tujuan\"  :data=\"locationSelection\" valueByKey :disabled=\"dlgContent.currentDialogData.id\"\r\n                        v-model:selectedData=\"dlgContent.currentDialogData.lokasi_tujuan\"></DropDown>\r\n                </div>\r\n\r\n                <div class=\"p-2\">\r\n                    <div class=\"bg-white h-full\" style=\"width:1px;\"></div>\r\n                </div>\r\n\r\n                <div class=\"flex-1 flex  flex-col\">\r\n                    <MyInputText label=\"Nama Pengurus\" maxlength=100\r\n                        v-model:value=\"dlgContent.currentDialogData.nama_pengurus\" />\r\n\r\n                    <MyInputText label=\"Tuslah\" maxlength=100 \r\n                        v-model:value=\"dlgContent.currentDialogData.tuslah\" />\r\n\r\n                    <MyInputText label=\"Jenis Muatan\" maxlength=200 \r\n                        v-model:value=\"dlgContent.currentDialogData.jenis_muatan\" />\r\n\r\n                    <MyInputText label=\"Nama Supir\" maxlength=100 \r\n                        v-model:value=\"dlgContent.currentDialogData.nama_supir\" />\r\n\r\n                    <MyInputText label=\"Alamat Supir\" maxlength=200 \r\n                        v-model:value=\"dlgContent.currentDialogData.alamat_supir\" />\r\n                        \r\n                    <MyInputText label=\"Asal Supir\" maxlength=500 \r\n                        v-model:value=\"dlgContent.currentDialogData.asal_supir\" />\r\n                    \r\n                    <MyInputText label=\"Tujuan Supir\" maxlength=500\r\n                        v-model:value=\"dlgContent.currentDialogData.tujuan_supir\" />\r\n                </div>\r\n\r\n                <div class=\"p-2\">\r\n                    <div style=\"width:1px\" class=\"bg-white h-full\" ></div>\r\n                </div>\r\n\r\n                <div class=\"flex-1 flex flex-col\">\r\n                    <div class=\"flex flex-row\">                        \r\n\r\n                        <MyInputText label=\"Plat No\" w=\"140px\" maxlength=11  @onChange=\"onPlatNoChange\"\r\n                            inputAdditionalClass=\"uppercase\" v-model:value=\"dlgContent.currentDialogData.plat_no\" />                    \r\n\r\n                        <div class=\"grow\"></div>\r\n                        \r\n                        <DropDown label=\"Golongan\"  :data=\"golonganSelection\" valueByKey @onChange=\"onGolonganChange\"\r\n                            v-model:selectedData=\"dlgContent.currentDialogData.golongan\"></DropDown>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"flex flex-row\">\r\n                        <MyInputNumber ref=\"panjang\" label=\"Panjang\" class=\"shrink\" nextElement=\"Tinggi\"\r\n                            v-model:value=\"dlgContent.currentDialogData.panjang_kenderaan\"/>\r\n\r\n                        <div class=\"w-4\"></div>\r\n\r\n                        <MyInputNumber ref=\"Tinggi\" label=\"Tinggi\" class=\"shrink\"\r\n                            v-model:value=\"dlgContent.currentDialogData.tinggi_kenderaan\"/>\r\n\r\n                        <div class=\"w-4\"></div>\r\n\r\n                        <MyInputNumber ref=\"Lebar\" label=\"Lebar\" class=\"flex-grow\"\r\n                            v-model:value=\"dlgContent.currentDialogData.lebar_kenderaan\"/>\r\n                    </div>\r\n\r\n                    <div class=\"flex flex-row\">                \r\n                        <MyInputNumber label=\"PanjangOri\"\r\n                            v-model:value=\"dlgContent.currentDialogData.panjang_ori_kenderaan\"/>\r\n\r\n                        <div class=\"w-4\"></div>\r\n\r\n                        <MyInputNumber label=\"Berat\" \r\n                            v-model:value=\"dlgContent.currentDialogData.berat\"  />\r\n    \r\n                        <div class=\"w-4\"></div>\r\n                        \r\n                        <MyInputNumber label=\"Volume\"\r\n                            v-model:value=\"dlgContent.currentDialogData.volume\"  />\r\n                    </div>\r\n\r\n                    <div class=\"flex-row\">                \r\n                        <MyInputNumber label=\"Jumlah Orang\" w_value=\"50px\"\r\n                            v-model:value=\"dlgContent.currentDialogData.jumlah_orang\"  />\r\n\r\n                        <div class=\"grow\"></div>\r\n                        \r\n                        <MyInputNumber label=\"Harga\" disabled\r\n                            v-model:value=\"dlgContent.currentDialogData.harga\"  />\r\n                        \r\n                        <div class=\"grow\"></div>\r\n\r\n                        <MyInputNumber label=\"Biaya Tuslah\" @onChange=\"onTuslahChange\"\r\n                            v-model:value=\"dlgContent.currentDialogData.biaya_tuslah\" />\r\n                    </div>\r\n\r\n                    <MyInputNumber label=\"Total Harga\" disabled \r\n                        v-model:value=\"dlgContent.currentDialogData.total_harga\"/>\r\n                </div>\r\n            </div>\r\n\r\n            <MyInputText label=\"Keterangan\" maxlength=1000\r\n                        v-model:value=\"dlgContent.currentDialogData.keterangan\" />\r\n        </template> \r\n\r\n        <template  #additionalButton=\"additionalButton\">\r\n            <div class=\"flex w-full justify-center items-center pr-3\">\r\n                <button @click=\"doPrint\" style=\"height:3em\" v-if=\"enablePrint\"\r\n                        class=\"inline-flex items-center justify-center text-white m-2 bg-yellow-600 hover:bg-yellow-700 focus:ring-4 \r\n                            focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-3 py-2.5 text-center\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" class=\"mr-2 w-5 h-5\">\r\n                        <path fill-rule=\"evenodd\" d=\"M5 2.75C5 1.784 5.784 1 6.75 1h6.5c.966 0 1.75.784 1.75 1.75v3.552c.377.046.752.097 1.126.153A2.212 2.212 0 0 1 18 8.653v4.097A2.25 2.25 0 0 1 15.75 15h-.241l.305 1.984A1.75 1.75 0 0 1 14.084 19H5.915a1.75 1.75 0 0 1-1.73-2.016L4.492 15H4.25A2.25 2.25 0 0 1 2 12.75V8.653c0-1.082.775-2.034 1.874-2.198.374-.056.75-.107 1.127-.153L5 6.25v-3.5Zm8.5 3.397a41.533 41.533 0 0 0-7 0V2.75a.25.25 0 0 1 .25-.25h6.5a.25.25 0 0 1 .25.25v3.397ZM6.608 12.5a.25.25 0 0 0-.247.212l-.693 4.5a.25.25 0 0 0 .247.288h8.17a.25.25 0 0 0 .246-.288l-.692-4.5a.25.25 0 0 0-.247-.212H6.608Z\" clip-rule=\"evenodd\" />\r\n                    </svg>\r\n                    Print\r\n                </button>\r\n        \r\n                <div class=\"grow \"></div>\r\n                <label class=\"text-white\">Jumlah Print Ticket </label>\r\n                <div style=\"width: 10px;\"></div>\r\n                <label class=\"text-white\">{{ additionalButton.currentDialogData.printer_count }}</label>\r\n            </div>\r\n        </template>\r\n    </InputModalDialog>    \r\n    \r\n</template>"],"names":["httpClient","inject","auth","app","getCurrentInstance","useRoute","useRouter","emit","__emit","inputDlg","ref","dataTable","fields","dataValidatorDesc","golonganSelection","locationSelection","enableSubmit","enablePrint","onMounted","loadGolongan","loadLocation","enableDelete","computed","enableCreate","response","s","e","loadItems","page","sortBy","sortDesc","limit","search","onCreateNew","moment","onEdit","data","checkPermission","onDelete","submit","Schema","ticketData","errors","totalMsg","doPrint","printResponse","responseUpdate","onDateChange","value","onTuslahChange","recalcTotalHarga","onGolonganChange","selectedGolData","onPlatNoChange","item"],"mappings":"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"}
import{_ as y,d as g,g as k,u as L,e as U,r as d,o as C,c as T,b as e,w as c,v as h,f as b,h as H,a as V}from"./index-f8fe4db5.js";import{C as v}from"./index-9cc4f9ff.js";const D={class:"flex items-center justify-center w-screen h-screen"},K={class:"shadow w-96 rounded-xl bg-gray-700"},B={class:"flex flex-col px-6 py-6 lg:px-8"},I=e("h3",{class:"text-xl font-medium text-gray-900 text-white pb-5 self-center"},"Masuk Ke Aplikasi",-1),M={class:"space-y-6",action:"#"},j=e("label",{for:"email",class:"block mb-2 text-sm font-medium text-white"},"User Id",-1),q=["onKeyup"],E=e("label",{for:"password",class:"block mb-2 text-sm font-medium text-white"},"Password",-1),P=["onKeyup"],R={class:"flex justify-between pt-10"},S={class:"flex items-start"},A={class:"flex items-center h-5"},J=e("label",{for:"remember",class:"ml-2 text-sm font-medium text-gray-300"},"Remember me",-1),N={__name:"LoginView",emits:["showLoading","loggedIn"],setup($,{emit:x}){const p=g("httpClient"),a=g("auth"),w=k().appContext,l=x,_=L(),u=U(),n=d(""),o=d(""),r=d(""),m=async()=>{if(o.value.length>0){var i=v.SHA256(o.value).toString(v.enc.Hex);l("showLoading",!0);var t=await p("post","/user/login",{userid:n.value,password:i});l("showLoading",!1),t.status==200?(a.setToken(t.data.accessToken),a.getToken()!=null&&(r.value?a.setLocalUser(n.value,o.value):a.removeLocalUser(),l("loggedIn"),l("showLoading",!1),_.params.nextUrl!=null?u.push(this.$route.params.nextUrl):u.push({path:"/home"}))):w.config.globalProperties.showErrorDlg(t.message),console.log(t)}},f=()=>{n.value&&o.value&&m()};return C(async()=>{var i=a.getTokenData();if(i){l("showLoading",!0);var t=await p("get","/user/profile");l("showLoading",!1),t.status==200&&u.push("Home")}var s=a.getLocalUser();s?(r.value=!0,n.value=s.user,o.value=s.pass):r.value=!1}),(i,t)=>(V(),T("div",D,[e("div",K,[e("div",B,[I,e("form",M,[e("div",null,[j,c(e("input",{type:"text",name:"userid",id:"userid","onUpdate:modelValue":t[0]||(t[0]=s=>n.value=s),onKeyup:b(f,["enter"]),class:"w-full text-inputText hover:bg-inputHover border-5 focus:bg-inputHover disabled:bg-inputBgDisable disabled:text-inputText text-sm rounded-md block p-2",placeholder:"User Id",required:""},null,40,q),[[h,n.value]])]),e("div",null,[E,c(e("input",{type:"password",name:"password",id:"password",placeholder:"password","onUpdate:modelValue":t[1]||(t[1]=s=>o.value=s),onKeyup:b(f,["enter"]),class:"w-full text-inputPassword hover:bg-inputHover border-5 focus:bg-inputHover disabled:bg-inputBgDisable disabled:text-inputText text-sm rounded-md block p-2",required:""},null,40,P),[[h,o.value]])]),e("div",R,[e("div",S,[e("div",A,[c(e("input",{id:"remember",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=s=>r.value=s),class:"w-4 h-4 border rounded bg-gray-600 border-gray-500 focus:ring-blue-600 ring-offset-gray-800 focus:ring-offset-gray-800",required:""},null,512),[[H,r.value]])]),J])]),e("button",{type:"button",onClick:m,class:"w-full bg-blue-700 hover:bg-blue-500 text-white focus:ring-blue-800 focus:ring-4 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Login to your account")])])])]))}},G=y(N,[["__file","D:/sourcecode/my_api/bnr_app_ui/src/views/LoginView.vue"]]);export{G as default};
//# sourceMappingURL=LoginView-445b4c90.js.map
